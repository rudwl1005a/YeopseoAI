{"version":3,"file":"js/login.8a33ff0d.js","mappings":"mPACKA,MAAQ,S,GAENA,MAAM,a,UACTC,EAAAA,EAAAA,GAA+B,KAA5BD,MAAM,cAAa,SAAK,K,GACrBE,SAAS,iB,UACbD,EAAAA,EAAAA,GAA8B,SAAvBE,IAAI,YAAU,W,UAErBF,EAAAA,EAAAA,GAAoC,SAA7BE,IAAI,kBAAgB,W,UAE3BF,EAAAA,EAAAA,GAAI,qB,GAEDG,MAAA,sBAAwBJ,MAAM,c,WAAa,sB,WAA8D,Q,0EAXlHK,EAAAA,EAAAA,IAeM,MAfN,EAeM,EAbJJ,EAAAA,EAAAA,GAWM,MAXN,EAWM,CAVJK,GACAL,EAAAA,EAAAA,GAQO,OARP,EAQO,CAPLM,GAOK,SANLN,EAAAA,EAAAA,GAAsG,SAA/FD,MAAM,eAAeQ,KAAK,OAAOC,GAAG,WAAWC,YAAY,K,qCAAcC,EAAAA,MAAMC,KAAKC,UAASC,IAApG,iBAAgFH,EAAAA,MAAMC,KAAKC,aAC3FE,GAKK,SAJLd,EAAAA,EAAAA,GAA4H,SAArHD,MAAM,eAAeQ,KAAK,WAAWC,GAAG,iBAAiBC,YAAY,W,qCAAoBC,EAAAA,MAAMC,KAAKI,gBAAeF,IAA1H,iBAAgGH,EAAAA,MAAMC,KAAKI,mBAC3GC,GACAhB,EAAAA,EAAAA,GAAuF,UAA/ED,MAAM,yCAA0CkB,QAAK,oBAAEP,EAAAA,YAAAA,EAAAA,cAAAA,KAAY,QAC3EV,EAAAA,EAAAA,GAAkI,IAAlI,EAAkI,IAAjEkB,EAAAA,EAAAA,IAA6DC,EAAA,CAAhDpB,MAAM,WAAWqB,GAAG,WAAjC,C,kBAA2C,IAAI,M,6CAWtH,GACEC,KAAM,aACNC,QACE,MAAMC,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,MACRC,GAAYC,EAAAA,EAAAA,IAAI,MAEhBC,GAAQC,EAAAA,EAAAA,IAAS,CACrBnB,KAAM,CACJC,UAAW,GACXG,gBAAiB,OAIrBgB,EAAAA,EAAAA,KAAU,KACJC,aAAaC,QAAQ,WACvBC,MAAM,kBACNX,EAAOY,OACT,IAIF,MAAMC,EAAiB,WACrBX,EAAMY,SAAS,wBAAyBL,aAAaC,QAAQ,cAC1DK,MAAMC,IACLd,EAAMe,OAAO,oBAAqBD,EAAOE,KAAzC,IAEDC,OAAMC,IACLC,QAAQC,IAAIF,EAAZ,GAEN,EAGMG,EAAa,WAEjBrB,EAAMY,SAAS,oBAAqB,CAAEzB,UAAWiB,EAAMlB,KAAKC,UAAWG,gBAAiBc,EAAMlB,KAAKI,kBAClGuB,MAAK,SAAUC,GACRA,EAAOE,KAAKM,cAChBf,aAAagB,QAAQ,QAAST,EAAOE,KAAKM,aAC1Cf,aAAagB,QAAQ,YAAanB,EAAMlB,KAAKC,WAC7Ca,EAAMe,OAAO,sBACbf,EAAMe,OAAO,mBACbJ,IACAb,EAAO0B,KAAK,CACV5B,KAAM,SAGX,IACAqB,OAAM,SAAUQ,GACfhB,MAAMgB,EACP,GACH,EAEA,MAAO,CAAEvB,YAAWE,QAAOiB,aAC7B,G,QCtEF,MAAMK,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://frontend/./src/views/Login.vue","webpack://frontend/./src/views/Login.vue?240b"],"sourcesContent":["<template>\r\n<div class = \"login\">\r\n\r\n  <div class=\"loginform\">\r\n    <p class=\"loginTitle\">LOGIN</p>\r\n    <form onsubmit=\"return false;\">\r\n      <label for=\"login-id\"></label>\r\n      <input class=\"form-control\" type=\"text\" id=\"login-id\" placeholder=\"id\" v-model=\"state.form.companyId\">\r\n      <label for=\"login-password\"></label>\r\n      <input class=\"form-control\" type=\"password\" id=\"login-password\" placeholder=\"password\" v-model=\"state.form.companyPassword\">\r\n      <br>\r\n      <button class=\"btn btnLogin btn btn-outline-secondary\" @click=\"clickLogin\">로그인</button>\r\n      <p style=\"margin-top:1rem\" class=\"movesignup\">Not a member yet?  <router-link class=\"link_tag\" to=\"/signup\">회원가입</router-link></p>\r\n    </form>\r\n  </div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\nexport default {\r\n  name: 'login-view',\r\n  setup() {\r\n    const router = useRouter()\r\n    const store = useStore()\r\n    const loginForm = ref(null)\r\n\r\n    const state = reactive({\r\n      form: {\r\n        companyId: '',\r\n        companyPassword: '',\r\n      },\r\n    })\r\n\r\n    onMounted(() => {\r\n      if (localStorage.getItem('token')) {\r\n        alert('이미 로그인 되어 있습니다')\r\n        router.back()\r\n      }\r\n    })\r\n\r\n    // 홀 정보 받아오기\r\n    const fetchHallsInfo = function() {\r\n      store.dispatch('root/requestHallsInfo', localStorage.getItem('companyId'))\r\n        .then((result) => {\r\n          store.commit('root/setHallsInfo', result.data)\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        })\r\n    }\r\n    // 홀 정보 받아오기 끝\r\n\r\n    const clickLogin = function () {\r\n      // 로그인 클릭 시 validate 체크 후 그 결과 값에 따라, 로그인 API 호출 또는 경고창 표시\r\n      store.dispatch('root/requestLogin', { companyId: state.form.companyId, companyPassword: state.form.companyPassword })\r\n      .then(function (result) {\r\n          if (result.data.accessToken) {\r\n          localStorage.setItem('token', result.data.accessToken)\r\n          localStorage.setItem('companyId', state.form.companyId)\r\n          store.commit('root/setIsLoggedIn')\r\n          store.commit('root/setIsGuest')\r\n          fetchHallsInfo()\r\n          router.push({\r\n            name: 'home'\r\n          })\r\n        }\r\n      })\r\n      .catch(function (err) {\r\n        alert(err)\r\n      })\r\n    }\r\n\r\n    return { loginForm, state, clickLogin }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@300&display=swap');\r\n@import url('https://fonts.googleapis.com/css2?family=Fjalla+One&display=swap');\r\n@import url('https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap');\r\n\r\n  .login{\r\n    height: 600px;\r\n    background: #f0ebe7;\r\n    position:relative;\r\n\r\n\r\n  }\r\n\r\n  .loginform{\r\n    position:absolute;\r\n    left:0; right:0; margin-left:auto; margin-right:auto;\r\n    top:50px;\r\n    width: 400px;\r\n    height: 500px;\r\n  }\r\n\r\n  .loginTitle{\r\n    margin-top: 30px;\r\n    margin-bottom: 20px;\r\n    font-size: 50px;\r\n    font-family: 'Gowun Dodum', sans-serif;\r\n  }\r\n\r\n  .form-control{\r\n\r\n    left:0; right:0; margin-left:auto; margin-right:auto;\r\n    width: 300px;\r\n    height: 50px;\r\n  }\r\n\r\n  .btnLogin{\r\n    width: 300px;\r\n    height: 50px;\r\n    font-family: 'Gowun Dodum', sans-serif;\r\n  }\r\n  .movesignup{\r\n    margin-top: 5px;\r\n    color: gray;\r\n    font-size: 17px;\r\n    font-family: 'Gowun Dodum', sans-serif;\r\n  }\r\n\r\n  .link_tag{\r\n    text-decoration: none;\r\n    color: black;\r\n  }\r\n\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=1a1456d6&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=1a1456d6&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\SSAFY\\\\Desktop\\\\asd\\\\Weanodding\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1a1456d6\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","onsubmit","for","style","_createElementBlock","_hoisted_3","_hoisted_5","type","id","placeholder","$setup","form","companyId","$event","_hoisted_6","companyPassword","_hoisted_7","onClick","_createVNode","_component_router_link","to","name","setup","router","useRouter","store","useStore","loginForm","ref","state","reactive","onMounted","localStorage","getItem","alert","back","fetchHallsInfo","dispatch","then","result","commit","data","catch","error","console","log","clickLogin","accessToken","setItem","push","err","__exports__","render"],"sourceRoot":""}