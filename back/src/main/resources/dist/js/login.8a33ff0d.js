"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[535],{3418:function(o,t,n){n.r(t),n.d(t,{default:function(){return v}});var a=n(3396),e=n(9242);const s=o=>((0,a.dD)("data-v-1a1456d6"),o=o(),(0,a.Cn)(),o),l={class:"login"},c={class:"loginform"},r=s((()=>(0,a._)("p",{class:"loginTitle"},"LOGIN",-1))),i={onsubmit:"return false;"},d=s((()=>(0,a._)("label",{for:"login-id"},null,-1))),m=s((()=>(0,a._)("label",{for:"login-password"},null,-1))),u=s((()=>(0,a._)("br",null,null,-1))),p={style:{"margin-top":"1rem"},class:"movesignup"},f=(0,a.Uk)("Not a member yet? "),g=(0,a.Uk)("회원가입");function y(o,t,n,s,y,I){const k=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",c,[r,(0,a._)("form",i,[d,(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",id:"login-id",placeholder:"id","onUpdate:modelValue":t[0]||(t[0]=o=>s.state.form.companyId=o)},null,512),[[e.nr,s.state.form.companyId]]),m,(0,a.wy)((0,a._)("input",{class:"form-control",type:"password",id:"login-password",placeholder:"password","onUpdate:modelValue":t[1]||(t[1]=o=>s.state.form.companyPassword=o)},null,512),[[e.nr,s.state.form.companyPassword]]),u,(0,a._)("button",{class:"btn btnLogin btn btn-outline-secondary",onClick:t[2]||(t[2]=(...o)=>s.clickLogin&&s.clickLogin(...o))},"로그인"),(0,a._)("p",p,[f,(0,a.Wm)(k,{class:"link_tag",to:"/signup"},{default:(0,a.w5)((()=>[g])),_:1})])])])])}var I=n(4870),k=n(65),w=n(678),b={name:"login-view",setup(){const o=(0,w.tv)(),t=(0,k.oR)(),n=(0,I.iH)(null),e=(0,I.qj)({form:{companyId:"",companyPassword:""}});(0,a.bv)((()=>{localStorage.getItem("token")&&(alert("이미 로그인 되어 있습니다"),o.back())}));const s=function(){t.dispatch("root/requestHallsInfo",localStorage.getItem("companyId")).then((o=>{t.commit("root/setHallsInfo",o.data)})).catch((o=>{console.log(o)}))},l=function(){t.dispatch("root/requestLogin",{companyId:e.form.companyId,companyPassword:e.form.companyPassword}).then((function(n){n.data.accessToken&&(localStorage.setItem("token",n.data.accessToken),localStorage.setItem("companyId",e.form.companyId),t.commit("root/setIsLoggedIn"),t.commit("root/setIsGuest"),s(),o.push({name:"home"}))})).catch((function(o){alert(o)}))};return{loginForm:n,state:e,clickLogin:l}}},_=n(89);const h=(0,_.Z)(b,[["render",y],["__scopeId","data-v-1a1456d6"]]);var v=h}}]);
//# sourceMappingURL=login.8a33ff0d.js.map