"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[830],{9575:function(n,o,a){a.r(o),a.d(o,{default:function(){return Y}});var e=a(3396),t=a(7139),l=a(9242);const s=n=>((0,e.dD)("data-v-64713fe7"),n=n(),(0,e.Cn)(),n),c={class:"mypage mypage-font"},m=s((()=>(0,e._)("h1",{class:"mypagetitle",style:{"padding-top":"5rem"}},"마이페이지",-1))),r={class:"loginwedding"},p={class:"infoLogin",style:{width:"25%"}},i=s((()=>(0,e._)("h3",{class:"mypage-font"},"로그인 정보",-1))),d={class:"input-group mb-3 row",style:{"margin-top":"2rem"}},u=s((()=>(0,e._)("span",{class:"input-group-text col-sm-2 col-form-label mypageinfo",style:{"justify-content":"center",width:"7rem"}},"아이디",-1))),y={type:"text",class:"form-control a2",id:"id"},f={class:"input-group mb-3 row"},w=s((()=>(0,e._)("span",{class:"input-group-text col-sm-2 col-form-label mypageinfo",style:{"justify-content":"center",width:"7rem"}},"비밀번호",-1))),g={class:"input-group mb-3 row"},h=s((()=>(0,e._)("span",{class:"input-group-text col-sm-2 col-form-label mypageinfo",style:{"justify-content":"center",width:"7rem"}},"업체이름",-1))),k=["value"],b={class:"input-group mb-3 row"},C=s((()=>(0,e._)("span",{class:"input-group-text col-sm-2 col-form-label mypageinfo",style:{"justify-content":"center",width:"7rem"}},"업체전화번호",-1))),_=["value"],I={style:{"margin-top":"2rem"}},v=s((()=>(0,e._)("button",{class:"btn btnmypage btn-outline-secondary",type:"button","data-bs-toggle":"modal","data-bs-target":"#quitModal"}," 회원탈퇴 ",-1))),P={class:"mypage-font infoweddinsg",style:{width:"40%"}},N=s((()=>(0,e._)("h3",null,"웨딩홀 정보",-1))),O={class:"mb-3 row justify-content-center",style:{"margin-top":"2rem"}},T=s((()=>(0,e._)("label",{class:"col-sm-2 col-form-label halladd",for:"hall"},"홀 정보",-1))),D=s((()=>(0,e._)("br",null,null,-1))),H={class:"d-flex justify-content-center hallcenter"},x={class:"halloutline",style:{"background-color":"#f0ebe7","margin-top":"0px","overflow-y":"scroll",width:"530px",height:"14rem"}},q={class:"hallname"},S=["onClick"],B={class:"modal fade",id:"quitModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},U={class:"modal-dialog"},j={class:"modal-content"},M=s((()=>(0,e._)("div",{class:"modal-header"},[(0,e._)("h5",{class:"modal-title",id:"exampleModalLabel"},"회원탈퇴 확인"),(0,e._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),V=s((()=>(0,e._)("div",{class:"modal-body"}," 정말로 탈퇴하시겠습니까? 홀의 정보 및 지금까지 진행했던 결혼식, 하객의 정보 등 회사와 관련된 모든 정보가 삭제됩니다. ",-1))),L={class:"modal-footer"},Q=s((()=>(0,e._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"아니오",-1)));function F(n,o,a,s,F,z){return(0,e.wg)(),(0,e.iD)("div",c,[m,(0,e._)("div",r,[(0,e._)("div",p,[i,(0,e._)("div",d,[u,(0,e._)("span",y,(0,t.zw)(s.state.companyInfo.companyId),1)]),(0,e._)("div",f,[w,(0,e._)("input",{type:"password",class:"form-control a",placeholder:"새 비밀번호",onInput:o[0]||(o[0]=(...n)=>s.inputNewCompanyPassword&&s.inputNewCompanyPassword(...n))},null,32)]),(0,e._)("div",g,[h,(0,e._)("input",{type:"text",class:"form-control a",value:s.state.companyInfo.companyName,onInput:o[1]||(o[1]=(...n)=>s.inputNewCompanyName&&s.inputNewCompanyName(...n))},null,40,k)]),(0,e._)("div",b,[C,(0,e._)("input",{type:"text",class:"form-control a",value:s.state.companyInfo.companyTelnum,onInput:o[2]||(o[2]=(...n)=>s.inputNewCompanyTelnum&&s.inputNewCompanyTelnum(...n))},null,40,_)]),(0,e._)("div",I,[(0,e._)("button",{class:"btn btnmypage btn-outline-secondary",onClick:o[3]||(o[3]=(...n)=>s.clickChangeCompany&&s.clickChangeCompany(...n))},"수정하기"),v,(0,e._)("button",{class:"btn btn-outline-danger",onClick:o[4]||(o[4]=(...n)=>s.clickMyPageCancel&&s.clickMyPageCancel(...n)),style:{"margin-left":"0.5rem"}},"취소")])]),(0,e._)("div",P,[N,(0,e._)("div",O,[T,(0,e.wy)((0,e._)("input",{class:"form-control b",type:"text",id:"hall","onUpdate:modelValue":o[5]||(o[5]=n=>s.state.newHallName=n)},null,512),[[l.nr,s.state.newHallName]]),(0,e._)("button",{class:"btn btnhalladd btn-outline-secondary",onClick:o[6]||(o[6]=(...n)=>s.clickHallPlus&&s.clickHallPlus(...n))},"추가"),D]),(0,e._)("div",H,[(0,e._)("div",x,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(s.state.hallsInfo,(n=>((0,e.wg)(),(0,e.iD)("ul",{class:"halllist",key:n},[(0,e._)("li",q,[(0,e.Uk)((0,t.zw)(n.hallName)+" ",1),(0,e._)("button",{class:"btn btnhalldelete btn-outline-secondary",onClick:o=>s.clickDeleteHall(n.hallName)},"삭제",8,S)])])))),128))])])])]),(0,e._)("div",B,[(0,e._)("div",U,[(0,e._)("div",j,[M,V,(0,e._)("div",L,[Q,(0,e._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:o[7]||(o[7]=(...n)=>s.clickQuitBtn&&s.clickQuitBtn(...n))},"네, 탈퇴하겠습니다")])])])])])}a(6699);var z=a(4870),R=a(65),Z=a(678),$={name:"mypage-view",setup(){const n=(0,R.oR)(),o=(0,Z.tv)(),a=(0,z.qj)({newHallName:"",companyInfo:(0,e.Fl)((()=>n.getters["root/getCompanyInfo"])),hallsInfo:(0,e.Fl)((()=>n.getters["root/getHallsInfo"])),form:{newCompanyName:"",newCompanyTelnum:"",newCompanyPassword:""}}),t=function(){o.push({name:"home"})},l=function(){n.dispatch("root/requestHallsInfo",localStorage.getItem("companyId")).then((o=>{n.commit("root/setHallsInfo",o.data)})).catch((n=>{console.log(n)}))},s=function(){n.dispatch("root/requestMyPage",localStorage.getItem("companyId")).then((function(o){n.commit("root/setCompanyInfo",o.data)})).catch((function(n){alert(n)}))},c=function(n){if(""===n.trim())return!0;for(const o of a.hallsInfo)if(o.hallName===n)return!0;return!1},m=function(){c(a.newHallName)?(alert("홀 이름이 비어있거나 이미 있는 홀입니다"),a.newHallName=""):n.dispatch("root/requestHallPlus",{companyId:localStorage.getItem("companyId"),hallName:a.newHallName}).then((()=>{l(),a.newHallName=""})).catch((n=>{console.log(n)}))},r=function(o){n.dispatch("root/requestHallDelete",`${localStorage.getItem("companyId")}/${o}`).then((()=>{l()})).catch((n=>{console.log(n)}))},p=function(){n.dispatch("root/requestQuit",localStorage.getItem("companyId")).then((()=>{localStorage.removeItem("token"),localStorage.removeItem("companyId"),n.commit("root/setIsLoggedIn"),alert("탈퇴가 정상적으로 진행되었습니다"),o.push({name:"home"})})).catch((n=>{alert(n)}))},i="ABCDEFGHIJKLMNOPQRSTUVWXYZ",d="abcdefghijklmnopqrstuvwxyz",u="1234567890",y='`~!@#$%^&*()_+-=[]{}|;:,.<>/?""\'\\',f=function(n,o){for(let a of n)if(o.includes(a))return!0;return!1},w=function(){return!!(9<=a.form.newCompanyPassword.length&&a.form.newCompanyPassword.length<=16&&f(a.form.newCompanyPassword,i)&&f(a.form.newCompanyPassword,d)&&f(a.form.newCompanyPassword,y)&&f(a.form.newCompanyPassword,u))},g=function(){return a.form.newCompanyName.length>0},h=function(){return a.form.newCompanyTelnum.length>0},k=function(){w()&&g()&&h()?n.dispatch("root/requestChangeInfo",[localStorage.getItem("companyId"),{companyName:a.form.newCompanyName,companyPassword:a.form.newCompanyPassword,companyTelnum:a.form.newCompanyTelnum}]).then((()=>{alert("변경성공"),s(),o.push({name:"home"})})).catch((n=>{console.log(n)})):alert("형식이 옳지않습니다.")},b=function(n){a.form.newCompanyName=n.target.value},C=function(n){a.form.newCompanyTelnum=n.target.value},_=function(n){a.form.newCompanyPassword=n.target.value};return(0,e.bv)((()=>{localStorage.getItem("token")?(s(),l()):(alert("로그인이 필요합니다"),o.push({name:"login"}))})),{state:a,clickHallPlus:m,clickDeleteHall:r,clickQuitBtn:p,inputNewCompanyName:b,inputNewCompanyTelnum:C,inputNewCompanyPassword:_,clickChangeCompany:k,clickMyPageCancel:t}}},G=a(89);const K=(0,G.Z)($,[["render",F],["__scopeId","data-v-64713fe7"]]);var Y=K},5588:function(n,o,a){a.r(o),a.d(o,{default:function(){return U}});var e=a(3396),t=a(9242);const l=n=>((0,e.dD)("data-v-3fdd31c7"),n=n(),(0,e.Cn)(),n),s={class:"signup"},c={class:"signupform"},m=l((()=>(0,e._)("h1",{class:"signuptitle"},"SIGN UP",-1))),r=l((()=>(0,e._)("br",null,null,-1))),p={onsubmit:"return false;"},i={class:"mb-4"},d={class:"input-group d-flex"},u={key:0,class:"mt-0",id:"Idcheck",style:{"margin-top":"1rem"}},y={onsubmit:"return false;"},f={key:0},w=l((()=>(0,e._)("br",null,null,-1))),g={key:1},h=l((()=>(0,e._)("br",null,null,-1))),k={key:2,style:{color:"#3CB371"}},b=(0,e.Uk)("회사이름은 최대 16자리까지만 가능합니다 "),C=l((()=>(0,e._)("br",null,null,-1))),_=(0,e.Uk)("회사 이름이 16자리가 넘는 경우는 전화로 문의해주세요"),I=[b,C,_],v=l((()=>(0,e._)("br",null,null,-1))),P={key:3,style:{color:"#3CB371"}},N=l((()=>(0,e._)("br",null,null,-1))),O=["disabled"];function T(n,o,a,l,b,C){return(0,e.wg)(),(0,e.iD)("div",s,[(0,e._)("div",c,[m,r,(0,e._)("form",p,[(0,e._)("div",i,[(0,e._)("div",d,[(0,e.wy)((0,e._)("input",{class:"form-control inputBnt2",type:"text",id:"signup-id",placeholder:"id","onUpdate:modelValue":o[0]||(o[0]=n=>l.state.form.companyId=n),onInput:o[1]||(o[1]=(...n)=>l.signupBtnDisable&&l.signupBtnDisable(...n))},null,544),[[t.nr,l.state.form.companyId]]),(0,e._)("button",{class:"btn btnCheck btn-outline-secondary",onClick:o[2]||(o[2]=(...n)=>l.clickIdCheck&&l.clickIdCheck(...n))},"중복체크")]),l.state.idOk||""==l.state.form.companyId?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("p",u,"아이디 중복체크를 해주세요"))])]),(0,e._)("form",y,[(0,e.wy)((0,e._)("input",{class:"form-control inputBnt",placeholder:"password",type:"password",id:"signup-password","onUpdate:modelValue":o[3]||(o[3]=n=>l.state.form.companyPassword=n),onInput:o[4]||(o[4]=(...n)=>l.passwordCheck&&l.passwordCheck(...n))},null,544),[[t.nr,l.state.form.companyPassword]]),l.state.passwordOk||""==l.state.form.companyPassword?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("p",f,"비밀번호는 9~16자리, 대소문자와 특수문자가 사용되어야 합니다")),w,(0,e.wy)((0,e._)("input",{class:"form-control inputBnt",placeholder:"confirm password",type:"password",id:"signup-password2","onUpdate:modelValue":o[5]||(o[5]=n=>l.state.form.companyPassword2=n),onInput:o[6]||(o[6]=(...n)=>l.password2Check&&l.password2Check(...n))},null,544),[[t.nr,l.state.form.companyPassword2]]),l.state.password2Ok||""==l.state.form.companyPassword2?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("p",g,"비밀 번호가 일치하지 않습니다")),h,(0,e.wy)((0,e._)("input",{class:"form-control inputBnt",placeholder:"company name",type:"text",id:"signup-companyname","onUpdate:modelValue":o[7]||(o[7]=n=>l.state.form.companyName=n),onInput:o[8]||(o[8]=(...n)=>l.companyNameCheck&&l.companyNameCheck(...n))},null,544),[[t.nr,l.state.form.companyName]]),l.state.companyNameOk?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("p",k,I)),v,(0,e.wy)((0,e._)("input",{class:"form-control inputBnt",placeholder:"company number",type:"text",id:"signup-companynum","onUpdate:modelValue":o[9]||(o[9]=n=>l.state.form.companyTelnum=n),onInput:o[10]||(o[10]=(...n)=>l.companyTelnumCheck&&l.companyTelnumCheck(...n))},null,544),[[t.nr,l.state.form.companyTelnum]]),l.state.companyTelnumOk?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("p",P,"회사 전화번호를 정확히 입력해주세요")),N,(0,e._)("button",{class:"btn btnsignup btn-outline-secondary",onClick:o[11]||(o[11]=(...n)=>l.clickSignup&&l.clickSignup(...n)),disabled:l.state.disabled},"회원가입",8,O)])])])}a(6699);var D=a(4870),H=a(65),x=a(678),q={name:"signup-view",setup(){const n=(0,x.tv)(),o=(0,H.oR)(),a=(0,D.iH)(null),t=(0,D.qj)({form:{companyId:"",companyPassword:"",companyPassword2:"",companyName:"",companyTelnum:""},disabled:"disabled",idOk:!1,passwordOk:!1,password2Ok:!1,companyNameOk:!1,companyTelnumOk:!1});(0,e.bv)((()=>{console.log(a.value)}));const l=function(){t.idOk&&t.passwordOk&&t.password2Ok&&t.companyNameOk&&t.companyTelnumOk?t.disabled=!1:t.disabled="disabled"},s=()=>{o.dispatch("root/requestIdCheck",t.form.companyId).then((n=>{200===n.status&&(alert("사용가능한 ID입니다"),t.idOk=!0,l())})).catch((n=>{t.idOk=!1,409===n.response.status?alert("이미 존재하는 ID입니다"):401===n.response.status&&alert("인증에 실패하였습니다"),t.disabled="disabled"}))},c="ABCDEFGHIJKLMNOPQRSTUVWXYZ",m="abcdefghijklmnopqrstuvwxyz",r="1234567890",p='`~!@#$%^&*()_+-=[]{}|;:,.<>/?""\'\\',i=function(n,o){for(let a of n)if(o.includes(a))return!0;return!1},d=function(){9<=t.form.companyPassword.length&&t.form.companyPassword.length<=16&&i(t.form.companyPassword,c)&&i(t.form.companyPassword,m)&&i(t.form.companyPassword,p)&&i(t.form.companyPassword,r)?t.passwordOk=!0:t.passwordOk=!1,t.form.companyPassword2!==t.form.companyPassword&&(t.password2Ok=!1),l()},u=function(){t.form.companyPassword2===t.form.companyPassword&&9<=t.form.companyPassword2.length&&t.form.companyPassword2.length<=16&&i(t.form.companyPassword2,c)&&i(t.form.companyPassword2,m)&&i(t.form.companyPassword2,p)&&i(t.form.companyPassword2,r)?t.password2Ok=!0:t.password2Ok=!1,l()},y=function(){t.form.companyName.length<=16&&t.form.companyName.length>0?t.companyNameOk=!0:t.companyNameOk=!1,l()},f=function(){t.form.companyTelnum.length<=16&&t.form.companyTelnum.length>0?t.companyTelnumOk=!0:t.companyTelnumOk=!1,l()},w=function(){t.idOk=!1,l()},g=function(){o.dispatch("root/requestSignup",{companyId:t.form.companyId,companyName:t.form.companyName,companyTelnum:t.form.companyTelnum,companyPassword:t.form.companyPassword}).then((function(){alert("회원가입이 되었습니다"),n.push({name:"login"})})).catch((function(n){alert(n)}))};return{signupForm:a,state:t,clickSignup:g,clickIdCheck:s,passwordCheck:d,password2Check:u,companyNameCheck:y,companyTelnumCheck:f,signupBtnDisable:w}}},S=a(89);const B=(0,S.Z)(q,[["render",T],["__scopeId","data-v-3fdd31c7"]]);var U=B}}]);
//# sourceMappingURL=signup.caba2c81.js.map