"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[596],{8250:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var o=n(3396),i=n(7139);const s={class:"cert",style:{height:"52rem"}},r={class:"cert-font"},c=(0,o._)("h1",null,"결혼식에 오신걸 환영합니다.",-1),a=(0,o._)("br",null,null,-1),u=(0,o._)("h3",null,"본인인증을 통해 참석부탁드립니다",-1),d=(0,o._)("br",null,null,-1);function l(e,t,n,l,h,g){return(0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",r,[(0,o._)("h1",null,"신랑 "+(0,i.zw)(e.wedding.weddingManNm)+"와 신부 "+(0,i.zw)(e.wedding.weddingWomanNm)+"의",1),c,a,u]),(0,o._)("button",{class:"btn btn-outline-secondary btnCert",onClick:t[0]||(t[0]=(...e)=>g.certification&&g.certification(...e))},"본인인증"),d])}var h=n(6265),g=n.n(h),p=n(65),f=n(1120),m=n(7678);g().defaults.headers.post["Content-Type"]="application/json";const w=window.IMP;w.init({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_IAMPORT_API_ID);var N={computed:(0,p.Se)({wedding:"root/getNowWeddingInfo"}),props:{weddingNum:Number},data(){return{guestName:"",guestPhone:""}},methods:{certification:function(){w.certification({merchant_uid:this.wedding.weddingNum+"-"+(new Date).getTime(),m_redirect_url:"{리디렉션 될 URL}",popup:!0},(function(e){e.success?g().post(`https://i7e206.p.ssafy.io/api/v1/certify/${e.imp_uid}`).then((e=>{this.guestName=JSON.parse(e.data.certificationsInfo).response.name,this.guestPhone=JSON.parse(e.data.certificationsInfo).response.phone,m.Z.commit("root/setNowGuestInfo",{guestName:this.guestName,guestPhone:this.guestPhone}),f.Z.push({name:"entrance"})})).catch((e=>{console.log(e)})):alert("인증에 실패하였습니다. 에러 내용: "+e.error_msg)}))}},setup(e){const t=(0,p.oR)();(0,o.bv)((()=>{t.dispatch("root/requestWeddingInfoByNum",e.weddingNum).then((e=>{t.commit("root/setNowWeddingInfo",e.data)})).catch((e=>{console.log(e)}))}))}},_=n(89);const b=(0,_.Z)(N,[["render",l]]);var I=b}}]);
//# sourceMappingURL=IamportCertification.a78380b5.js.map