"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[981],{9403:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var a=t(3396),o=t(7139),d=t(9242);const m=e=>((0,a.dD)("data-v-58c3c2f1"),e=e(),(0,a.Cn)(),e),i={class:"makereservation"},l=m((()=>(0,a._)("h1",{class:"makereservation-font",style:{"padding-top":"5rem"}},"결혼식 예약하기",-1))),r={onsubmit:"return false;"},s=m((()=>(0,a._)("h3",{class:"makereservation-font",style:{"margin-top":"10px",display:"inline"}},"예약 날짜 : ",-1))),g={class:"makereservation-font",style:{display:"inline"}},c={class:"input-group mb-3",style:{width:"18rem",margin:"auto","margin-top":"1rem"}},f=m((()=>(0,a._)("span",{class:"input-group-text",id:"basic-addon1"},"시간",-1))),u=m((()=>(0,a._)("h4",{class:"makereservation-font",style:{"margin-top":"2rem"}},"예식장을 선택하세요",-1))),w={style:{width:"18rem",margin:"auto"}},p=m((()=>(0,a._)("h4",{class:"makereservation-font",style:{"margin-top":"2rem"}},"신랑의 정보를 입력하세요",-1))),h={style:{width:"18rem",margin:"auto"}},y={style:{width:"18rem",margin:"auto"}},_=m((()=>(0,a._)("h4",{class:"makereservation-font",style:{"margin-top":"2rem"}},"신부의 정보를 입력하세요",-1))),v={style:{width:"18rem",margin:"auto"}},k={style:{width:"18rem",margin:"auto"}},b={class:"mb-3"},I=m((()=>(0,a._)("h4",{class:"makereservation-font",style:{"margin-top":"2rem"}},"사진을 올려주세요",-1))),x={style:{width:"18rem","margin-top":"2rem"}},N=m((()=>(0,a._)("button",{style:{float:"left"},onclick:"history.back()",type:"button",class:"btn btn-outline-danger"},"취소",-1)));function D(e,n,t,m,D,U){return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",null,[l,(0,a._)("form",r,[s,(0,a._)("h2",g,(0,o.zw)(m.state.form.weddingdate),1),(0,a._)("div",c,[f,(0,a.wy)((0,a._)("input",{type:"time","onUpdate:modelValue":n[0]||(n[0]=e=>m.state.form.weddingdatetime=e),class:"form-control",placeholder:"Username","aria-label":"Username","aria-describedby":"basic-addon1"},null,512),[[d.nr,m.state.form.weddingdatetime]])]),u,(0,a._)("div",w,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":n[1]||(n[1]=e=>m.state.form.weddinghall=e),class:"form-select","aria-label":"Default select example"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(m.state.hallinfo,(e=>((0,a.wg)(),(0,a.iD)("option",{class:"makereservation-font",key:e},(0,o.zw)(e.hallName),1)))),128))],512),[[d.bM,m.state.form.weddinghall]])]),p,(0,a._)("div",h,[(0,a.wy)((0,a._)("input",{type:"text",placeholder:"신랑 성함","onUpdate:modelValue":n[2]||(n[2]=e=>m.state.form.weddingmanname=e),class:"form-control",id:"formGroupExampleInput"},null,512),[[d.nr,m.state.form.weddingmanname]])]),(0,a._)("div",y,[(0,a.wy)((0,a._)("input",{type:"text",placeholder:"신랑 번호","onUpdate:modelValue":n[3]||(n[3]=e=>m.state.form.weddingmantelnum=e),class:"form-control",id:"formGroupExampleInput"},null,512),[[d.nr,m.state.form.weddingmantelnum]])]),_,(0,a._)("div",v,[(0,a.wy)((0,a._)("input",{type:"text",placeholder:"신부 성함","onUpdate:modelValue":n[4]||(n[4]=e=>m.state.form.weddingwomanname=e),class:"form-control",id:"formGroupExampleInput"},null,512),[[d.nr,m.state.form.weddingwomanname]])]),(0,a._)("div",k,[(0,a.wy)((0,a._)("input",{type:"text",placeholder:"신부 번호","onUpdate:modelValue":n[5]||(n[5]=e=>m.state.form.weddingwomantelnum=e),class:"form-control",id:"formGroupExampleInput"},null,512),[[d.nr,m.state.form.weddingwomantelnum]])]),(0,a._)("div",b,[I,(0,a._)("input",{style:{width:"18rem"},class:"form-control",type:"file",id:"formFile",multiple:"",accept:"image/*",onChange:n[6]||(n[6]=(...e)=>m.inputImageChange&&m.inputImageChange(...e))},null,32)]),(0,a._)("div",x,[N,(0,a._)("button",{style:{float:"right"},class:"btn btnReservation btn-outline-secondary",onClick:n[7]||(n[7]=(...e)=>m.clickMake&&m.clickMake(...e))},"예약하기")])])])])}var U=t(4870),C=t(65),M=t(678),V={name:"make-reservation",setup(){const e=(0,M.tv)(),n=(0,C.oR)(),t=(0,U.qj)({form:{weddingdatetime:"",weddingdate:(0,a.Fl)((()=>n.getters["root/getWeddingDateInfo"])),weddinghall:"",weddingmanname:"",weddingwomanname:"",weddingmantelnum:"",weddingwomantelnum:"",weddingImages:""},hallinfo:(0,a.Fl)((()=>n.getters["root/getHallsInfo"]))}),o=function(){t.form.weddingdatetime&&t.form.weddinghall&&t.form.weddingmanname&&t.form.weddingmantelnum&&t.form.weddingwomanname&&t.form.weddingwomantelnum?n.dispatch("root/requestMakeReservation",{companyId:localStorage.getItem("companyId"),hallName:t.form.weddinghall,weddingDate:t.form.weddingdate+" "+t.form.weddingdatetime,weddingManNm:t.form.weddingmanname,weddingManPh:t.form.weddingmantelnum,weddingWomanNm:t.form.weddingwomanname,weddingWomanPh:t.form.weddingwomantelnum}).then((function(a){if(alert("예약완료"),t.form.weddingImages){const e=new FormData,o=JSON.stringify({wedding_manNm:a.data.weddingManNm,wedding_num:a.data.weddingNum,wedding_womanNm:a.data.weddingWomanNm}),d=new Blob([o],{type:"application/json"});e.append("uploadPostReq",d);for(let n=0;n<t.form.weddingImages.length;n++)e.append("files",t.form.weddingImages[n]);n.dispatch("root/requestImageUpload",e).then((e=>{console.log("이미지 업로드 완료",e.data)})).catch((e=>{console.log("이미지 업로드 실패",e)}))}n.dispatch("root/requestDateWedding",t.form.weddingdate).then((function(t){n.commit("root/setWeddingInfo",t.data),e.push({name:"management"})})).catch((function(e){console.log("해당날짜 웨딩정보 요청 실패",e)}))})).catch((function(e){console.log("예약 만들기 실패",e)})):alert("모든 항목을 입력해주세요")},d=function(e){t.form.weddingImages=e.target.files};return{state:t,clickMake:o,inputImageChange:d}}},W=t(89);const q=(0,W.Z)(V,[["render",D],["__scopeId","data-v-58c3c2f1"]]);var E=q}}]);
//# sourceMappingURL=makereservation.dc06867d.js.map